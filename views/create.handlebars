<link rel="stylesheet" href="/css/create.css" />
<div id="create-character">

  <div class="page" id="page-name">
    <h3>Your Character's Name:</h3>
    <div class="">
      <input class="" type="text" id="character-name" />
      <label for="character-name">Name</label>
    </div>
    <button data-page="page-race">Next</button>
  </div>

  <div class="page" id="page-race" hidden>
    <h1>Select a race:</h1>
    <div id="races" class="grid grid-cols-1">
      {{#each races as |race|}}
        <button
          data-race={{race.id}}
          data-description="{{race.description}}"
          data-name={{race.race_name}}
        >{{race.race_name}}</button>

      {{/each}}
    </div>
    <div id="race-info" hidden>
      <p class="info"></p>
    </div>
    <button data-page="page-name">Back</button>
    <button data-page="page-class">Next</button>
  </div>

  <div class="page" id="page-class" hidden>
    <h1>Select a class:</h1>
    <div id="classes" class="grid grid-cols-1">
      {{#each classes as |class|}}
        <button
          data-class={{class.id}}
          data-description="{{class.description}}"
          data-name={{class.class_name}}
        >{{class.class_name}}</button>

      {{/each}}
    </div>
    <div id="class-info" hidden>
      <p class="info"></p>
    </div>
    <button data-page="page-race">Back</button>
    <button data-page="page-attributes">Next</button>
  </div>

  <div class="page" id="page-attributes" hidden>
    <div class="container flex flex-col items-center w-fit mb-3">
      {{! Dice Animation }}
      <div class="flex flex-wrap" id="dice-animation-container">
      </div>

      {{! Attribute Rolls }}
      <div class="grid grid-cols-[repeat(3,_100px)] gap-5 mb-3">
        {{#each attributes as |attribute|}}
          <div
            class="roll flex w-full h-full aspect-square border-2 border-slate-200 rounded-lg p-3"
            data-id={{attribute.id}}
          >
            <button class="roll-btn text-center self-center">Click to Roll</button>
            <div class="roll-container flex flex-col h-full w-full" hidden>
              <div class="flex items-center justify-center flex-1">
                <p class="display text-6xl"></p>
              </div>
              <select
                data-id={{attribute.id}}
                class="available-attributes w-full"
              >
                <option value="default" selected>--select--</option>
                {{#each attribute.diceAttributes as |diceAttribute|}}
                  <option
                    value={{diceAttribute.id}}
                  >{{diceAttribute.name}}</option>
                {{/each}}
              </select>
            </div>

          </div>
        {{/each}}
      </div>

      {{! Attribute Assigning }}
      <div class="grid grid-flow-row grid-cols-[repeat(3,_minmax(0,_150px))]">
        {{#each attributes as |attribute|}}
          <div
            class="relative flex w-full max-w-[150px] h-full aspect-[4/5] attribute-frame p-[10%]"
          >
            <div
              class="flex flex-col justify-center w-full h-full display-value"
            >
              <p
                data-id={{attribute.id}}
                class="assigned-dice text-5xl text-center text-inherit value-p-text h-24 mt-3"
              ></p>
              <p class="text-center text-sm sm:text-md">{{attribute.name}}</p>
            </div>
          </div>
        {{/each}}
      </div>
    </div>
    <button data-page="page-class">Back</button>
    <button id="create-btn">Create Character</button>
  </div>
</div>

<script type="module" src="/js/create.js"></script>